(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{349:function(e,t,a){"use strict";a.r(t);var r=a(22),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"jdbc介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdbc介绍"}},[e._v("#")]),e._v(" JDBC介绍")]),e._v(" "),a("h2",{attrs:{id:"statement和preparedstatement的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#statement和preparedstatement的关系"}},[e._v("#")]),e._v(" Statement和PreparedStatement的关系")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("都是用来执行SQL的,PreparedStatement extends Statement\nStatement适合执行静态(无条件)SQL,PreparedStatement适合执行动态(有条件)SQL\nPreparedStatement可以避免注入攻击\n")])])]),a("h2",{attrs:{id:"jdbc举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdbc举例"}},[e._v("#")]),e._v(" JDBC举例")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('Class.forName("com.mysql.cj.jdbc.Driver");  //注册驱动\nConnection connection = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/mysql", "root", "123456");  //获取mysql连接实例\n\nString sql = "select * from user where User=?";  // ?表示站位符\nPreparedStatement preparedStatement = connection.prepareStatement(sql);  //预编译SQL语句\npreparedStatement.setString(1,"root");  //对站位符号设置参数\nPreparedStatement preparedStatement = connection.prepareStatement(sql);\nResultSet resultSet = preparedStatement.executeQuery();\n\nwhile(resultSet.next()){  //指针往下指\n    String username = resultSet.getString("User" );\n    String authentication_string = resultSet.getString("authentication_string");\n    System.out.println(username+":"+authentication_string);\n}\n')])])]),a("h2",{attrs:{id:"连接池第三方工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接池第三方工具"}},[e._v("#")]),e._v(" 连接池第三方工具")]),e._v(" "),a("blockquote",[a("p",[e._v("JDBC的DriverManager每次调用它都创建一个新连接,它没有复用连接,它没有管理连接的上限,并发数过大时会导致数据库崩溃")]),e._v(" "),a("p",[e._v("常用连接池:DBCP/C3P0/Druid\n以Druid演示使用")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('1.db.properties放到src目录下面\n    driverClassName=com.mysql.cj.jdbc.Driver\n    url=jdbc:mysql://127.0.0.1:3306/mytest?characterEncoding=UTF-8\n    username=root\n    password=123456\n\n2.编写测试代码\n    Properties properties = new Properties();\n    InputStream propertisInputStream = mysqlhelper.class.getClassLoader().getResourceAsStream("db.properties");\n    properties.load(propertisInputStream);\n\n    DataSource dataSource = DruidDataSourceFactory.createDataSource(properties);  //创建datasource\n    Connection connection = dataSource.getConnection();  //从datasource中获取mysql连接\n\n    ....... //后续发送sql语句进行查询即可\n')])])]),a("h2",{attrs:{id:"commons-dbutils的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commons-dbutils的使用"}},[e._v("#")]),e._v(" commons-dbutils的使用")]),e._v(" "),a("blockquote",[a("p",[e._v("简化数据结果集的处理,[连接需要jdbc提供或者使用第三方连接池技术],commons-dbutils 是 Apache 组织提供的一个开源 JDBC工具类库，它是对JDBC的简单封装，学习成本极低，并且使用dbutils能极大简化jdbc编码的工作量，同时也不会影响程序的性能")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/java/wiki/javaweb/jdbc/common-dbutils.jpg",alt:""}})]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('Connection connection = new mysqlhelper().getConnection();  //获取mysql连接实例\nQueryRunner queryRunner = new QueryRunner();  //创建commons-dbutils实例对象\nString sql = "select * from Userinfo where id > ?";  //查询语句\nList<Map<String, Object>> data = queryRunner.query(connection, sql, 0, new MapListHandler());\n\n')])])]),a("h2",{attrs:{id:"jdbctemplate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdbctemplate"}},[e._v("#")]),e._v(" JdbcTemplate")]),e._v(" "),a("blockquote",[a("p",[e._v("Spring 框架针对数据库开发中的应用提供了 JDBCTemplate 类，该类是 Spring 对 JDBC 支持的核心，它提供了所有对数据库操作功能的支持。")])]),e._v(" "),a("blockquote",[a("p",[e._v("Spring 框架提供的JDBC支持主要由四个包组成，分别是 core（核心包）、object（对象包）、dataSource（数据源包）和 support（支持包），org.springframework.jdbc.core.JdbcTemplate 类就包含在核心包中。作为 Spring JDBC 的核心，JdbcTemplate 类中包含了所有数据库操作的基本方法。")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/java/wiki/javaweb/jdbc/spring-jdbctemplate.jpg",alt:""}}),e._v(" "),a("a",{attrs:{href:"/java/wiki/javaweb/attachment/JdbcTemplate.xmind"}},[e._v("JdbcTemplate.xmind")])])])}),[],!1,null,null,null);t.default=n.exports}}]);