(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{408:function(t,s,e){"use strict";e.r(s);var r=e(22),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"问题描述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题描述"}},[t._v("#")]),t._v(" 问题描述")]),t._v(" "),e("ul",[e("li",[t._v("适用于开发环境部署和测试环境部署")])]),t._v(" "),e("h2",{attrs:{id:"_0-架构图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-架构图"}},[t._v("#")]),t._v(" 0.架构图")]),t._v(" "),e("p",[e("img",{attrs:{src:"/vue/nginx_vue_express.jpg",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"_1-api接口以express为例部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-api接口以express为例部署"}},[t._v("#")]),t._v(" 1.API接口以express为例部署")]),t._v(" "),e("ul",[e("li",[t._v("正常部署即可")])]),t._v(" "),e("h2",{attrs:{id:"_2-vue静态代码部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-vue静态代码部署"}},[t._v("#")]),t._v(" 2.vue静态代码部署")]),t._v(" "),e("ul",[e("li",[t._v("将build之后的代码复制到nginx的root目录下即可。\n"),e("ul",[e("li",[t._v("root /Users//dist;      //VUE项目dist的目录路径位置")])])])]),t._v(" "),e("h2",{attrs:{id:"_3-nginx配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-nginx配置文件"}},[t._v("#")]),t._v(" 3.nginx配置文件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("http {\n\n    upstream my_server {      //Express调度配置                                                   \n        server 127.0.0.1:3000;                                                \n    }\n\n    server {\n        ......\n\n        #access_log  logs/host.access.log  main;\n        root /Users//dist;      //VUE项目dist的目录路径位置\n\n        location / {     //VUE单页配置\n            try_files $uri $uri/ @router;\n            index  index.html index.htm;\n        }\n\n        location @router {   //VUE单页配置\n            rewrite ^.*$ /index.html last;\n        }\n\n        location /api/ {   //Express调度配置\n            proxy_pass http://my_server;\n            proxy_set_header Host $host:$server_port;\n        }\n\n}\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);