<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>反射 | 90后老男人</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/person/person.icon">
    <meta name="description" content="风起于青萍之末,浪成于微澜之间">
    <link rel="preload" href="/assets/css/0.styles.14d9cf0c.css" as="style"><link rel="preload" href="/assets/js/app.acc5929b.js" as="script"><link rel="preload" href="/assets/js/2.1b646e00.js" as="script"><link rel="preload" href="/assets/js/42.2fefe764.js" as="script"><link rel="prefetch" href="/assets/js/10.d45f1760.js"><link rel="prefetch" href="/assets/js/100.24348bf3.js"><link rel="prefetch" href="/assets/js/101.a2af6918.js"><link rel="prefetch" href="/assets/js/102.bb3ef4aa.js"><link rel="prefetch" href="/assets/js/103.c0dd7bb7.js"><link rel="prefetch" href="/assets/js/104.f2c72954.js"><link rel="prefetch" href="/assets/js/105.fc424f86.js"><link rel="prefetch" href="/assets/js/106.dc948ba2.js"><link rel="prefetch" href="/assets/js/107.9120ca1c.js"><link rel="prefetch" href="/assets/js/108.f7c22324.js"><link rel="prefetch" href="/assets/js/109.35255d6e.js"><link rel="prefetch" href="/assets/js/11.3a5f0976.js"><link rel="prefetch" href="/assets/js/110.6807bd1f.js"><link rel="prefetch" href="/assets/js/111.a3f2ab9f.js"><link rel="prefetch" href="/assets/js/112.29c6e32f.js"><link rel="prefetch" href="/assets/js/113.f3b88715.js"><link rel="prefetch" href="/assets/js/114.a97d8338.js"><link rel="prefetch" href="/assets/js/115.e09f334e.js"><link rel="prefetch" href="/assets/js/116.6e5b46b1.js"><link rel="prefetch" href="/assets/js/117.bb08a2ff.js"><link rel="prefetch" href="/assets/js/118.09c575c5.js"><link rel="prefetch" href="/assets/js/119.0792349e.js"><link rel="prefetch" href="/assets/js/12.d2366508.js"><link rel="prefetch" href="/assets/js/120.c1e31f89.js"><link rel="prefetch" href="/assets/js/121.c59062ed.js"><link rel="prefetch" href="/assets/js/122.4e6ee75b.js"><link rel="prefetch" href="/assets/js/123.c2c24c6a.js"><link rel="prefetch" href="/assets/js/124.fbe51711.js"><link rel="prefetch" href="/assets/js/125.d0aef2f0.js"><link rel="prefetch" href="/assets/js/126.67dbc7d3.js"><link rel="prefetch" href="/assets/js/127.8ff5ba6b.js"><link rel="prefetch" href="/assets/js/128.47c8a7ee.js"><link rel="prefetch" href="/assets/js/129.a261afd9.js"><link rel="prefetch" href="/assets/js/13.96623ce5.js"><link rel="prefetch" href="/assets/js/130.4a3c2e59.js"><link rel="prefetch" href="/assets/js/131.e81a58de.js"><link rel="prefetch" href="/assets/js/132.08072127.js"><link rel="prefetch" href="/assets/js/133.e51be07a.js"><link rel="prefetch" href="/assets/js/14.709920e2.js"><link rel="prefetch" href="/assets/js/15.9aeafebc.js"><link rel="prefetch" href="/assets/js/16.84f62d58.js"><link rel="prefetch" href="/assets/js/17.c7d3f7a0.js"><link rel="prefetch" href="/assets/js/18.e34ab84e.js"><link rel="prefetch" href="/assets/js/19.833d2040.js"><link rel="prefetch" href="/assets/js/20.c57e34ae.js"><link rel="prefetch" href="/assets/js/21.1f55b6b0.js"><link rel="prefetch" href="/assets/js/22.3ecd37f2.js"><link rel="prefetch" href="/assets/js/23.a40f7ef2.js"><link rel="prefetch" href="/assets/js/24.a5013dd9.js"><link rel="prefetch" href="/assets/js/25.2d0c0e83.js"><link rel="prefetch" href="/assets/js/26.547f5489.js"><link rel="prefetch" href="/assets/js/27.fdbcdce8.js"><link rel="prefetch" href="/assets/js/28.f4e6d9ab.js"><link rel="prefetch" href="/assets/js/29.81eba8db.js"><link rel="prefetch" href="/assets/js/3.4fad78d1.js"><link rel="prefetch" href="/assets/js/30.ee9d03e3.js"><link rel="prefetch" href="/assets/js/31.2a589973.js"><link rel="prefetch" href="/assets/js/32.df19969b.js"><link rel="prefetch" href="/assets/js/33.9c992d56.js"><link rel="prefetch" href="/assets/js/34.a3326cfa.js"><link rel="prefetch" href="/assets/js/35.a40bf147.js"><link rel="prefetch" href="/assets/js/36.f712c59c.js"><link rel="prefetch" href="/assets/js/37.726aaa15.js"><link rel="prefetch" href="/assets/js/38.3cbf9f19.js"><link rel="prefetch" href="/assets/js/39.c3909118.js"><link rel="prefetch" href="/assets/js/4.e95b226a.js"><link rel="prefetch" href="/assets/js/40.1abd3075.js"><link rel="prefetch" href="/assets/js/41.4abd4b79.js"><link rel="prefetch" href="/assets/js/43.d9487e5b.js"><link rel="prefetch" href="/assets/js/44.c9d4e700.js"><link rel="prefetch" href="/assets/js/45.24810fc8.js"><link rel="prefetch" href="/assets/js/46.bc079210.js"><link rel="prefetch" href="/assets/js/47.3e09dfbe.js"><link rel="prefetch" href="/assets/js/48.0723b783.js"><link rel="prefetch" href="/assets/js/49.6c94d694.js"><link rel="prefetch" href="/assets/js/5.7998496f.js"><link rel="prefetch" href="/assets/js/50.f4ce8867.js"><link rel="prefetch" href="/assets/js/51.451f3b67.js"><link rel="prefetch" href="/assets/js/52.0f054cb9.js"><link rel="prefetch" href="/assets/js/53.168c03cc.js"><link rel="prefetch" href="/assets/js/54.5b76b2c1.js"><link rel="prefetch" href="/assets/js/55.abba8f4c.js"><link rel="prefetch" href="/assets/js/56.1a971006.js"><link rel="prefetch" href="/assets/js/57.b5b1303a.js"><link rel="prefetch" href="/assets/js/58.f134f46d.js"><link rel="prefetch" href="/assets/js/59.bb20bfeb.js"><link rel="prefetch" href="/assets/js/6.77b7c2f1.js"><link rel="prefetch" href="/assets/js/60.67ecaa8f.js"><link rel="prefetch" href="/assets/js/61.970c6eeb.js"><link rel="prefetch" href="/assets/js/62.c3da9c4b.js"><link rel="prefetch" href="/assets/js/63.00d352df.js"><link rel="prefetch" href="/assets/js/64.98858b29.js"><link rel="prefetch" href="/assets/js/65.1832e3df.js"><link rel="prefetch" href="/assets/js/66.33824c4b.js"><link rel="prefetch" href="/assets/js/67.b03e29a3.js"><link rel="prefetch" href="/assets/js/68.a0b8cba4.js"><link rel="prefetch" href="/assets/js/69.66069887.js"><link rel="prefetch" href="/assets/js/7.a2280a9c.js"><link rel="prefetch" href="/assets/js/70.f572541a.js"><link rel="prefetch" href="/assets/js/71.d77a8bd0.js"><link rel="prefetch" href="/assets/js/72.e5ae775c.js"><link rel="prefetch" href="/assets/js/73.aea0dfc2.js"><link rel="prefetch" href="/assets/js/74.0fb74060.js"><link rel="prefetch" href="/assets/js/75.cb17e37b.js"><link rel="prefetch" href="/assets/js/76.34021e22.js"><link rel="prefetch" href="/assets/js/77.3be366a0.js"><link rel="prefetch" href="/assets/js/78.a9c0c182.js"><link rel="prefetch" href="/assets/js/79.053d31be.js"><link rel="prefetch" href="/assets/js/8.b1513db2.js"><link rel="prefetch" href="/assets/js/80.b6ba7b88.js"><link rel="prefetch" href="/assets/js/81.695286f6.js"><link rel="prefetch" href="/assets/js/82.c99e0dd8.js"><link rel="prefetch" href="/assets/js/83.cc4c5dc3.js"><link rel="prefetch" href="/assets/js/84.aef8e7a7.js"><link rel="prefetch" href="/assets/js/85.eefc4dcb.js"><link rel="prefetch" href="/assets/js/86.ceb2b6e4.js"><link rel="prefetch" href="/assets/js/87.54170876.js"><link rel="prefetch" href="/assets/js/88.75588f2b.js"><link rel="prefetch" href="/assets/js/89.02b9e84f.js"><link rel="prefetch" href="/assets/js/9.187355ea.js"><link rel="prefetch" href="/assets/js/90.fe9f4da6.js"><link rel="prefetch" href="/assets/js/91.d0f743d0.js"><link rel="prefetch" href="/assets/js/92.0b987d30.js"><link rel="prefetch" href="/assets/js/93.2e703171.js"><link rel="prefetch" href="/assets/js/94.1027d933.js"><link rel="prefetch" href="/assets/js/95.7a649d9b.js"><link rel="prefetch" href="/assets/js/96.39ae66e0.js"><link rel="prefetch" href="/assets/js/97.10f22bca.js"><link rel="prefetch" href="/assets/js/98.f66aaebd.js"><link rel="prefetch" href="/assets/js/99.75173de8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.14d9cf0c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">90后老男人</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/websec/" class="nav-link">
  安全
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  PYTHON
</a></li><li class="dropdown-item"><!----> <a href="/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">
  MYSQL
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/es/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/zeek/" class="nav-link">
  Zeek
</a></li></ul></div></div><div class="nav-item"><a href="/delphinidae/" class="nav-link">
  Delphinidae项目
</a></div><div class="nav-item"><a href="/passiveproxy/" class="nav-link">
  PassiveScan项目
</a></div><div class="nav-item"><a href="/webssm/" class="nav-link">
  JavaSSM靶场项目
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/websec/" class="nav-link">
  安全
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  PYTHON
</a></li><li class="dropdown-item"><!----> <a href="/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">
  MYSQL
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/es/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/zeek/" class="nav-link">
  Zeek
</a></li></ul></div></div><div class="nav-item"><a href="/delphinidae/" class="nav-link">
  Delphinidae项目
</a></div><div class="nav-item"><a href="/passiveproxy/" class="nav-link">
  PassiveScan项目
</a></div><div class="nav-item"><a href="/webssm/" class="nav-link">
  JavaSSM靶场项目
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>知识梳理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/wiki/time.html" class="sidebar-link">时间转换</a></li><li><a href="/java/wiki/Calendar.html" class="sidebar-link">Calendar</a></li><li><a href="/java/wiki/random.html" class="sidebar-link">随机数</a></li><li><a href="/java/wiki/iterator_for.html" class="sidebar-link">迭代器和增强for使用</a></li><li><a href="/java/wiki/list_set_map.html" class="sidebar-link">List/Set/Map</a></li><li><a href="/java/wiki/threadSafe.html" class="sidebar-link">线程并发安全问题</a></li><li><a href="/java/wiki/fileAction.html" class="sidebar-link">文件操作</a></li><li><a href="/java/wiki/InputOutput.html" class="sidebar-link">IO输入输出流</a></li><li><a href="/java/wiki/jdbc.html" class="sidebar-link">JDBC</a></li><li><a href="/java/wiki/javaweb.html" class="sidebar-link">JavaWeb</a></li><li><a href="/java/wiki/spring.html" class="sidebar-link">spring</a></li><li><a href="/java/wiki/springMVC.html" class="sidebar-link">springMVC</a></li><li><a href="/java/wiki/ssm.html" class="sidebar-link">ssm整合</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>安全开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/reflex.html" aria-current="page" class="active sidebar-link">反射</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/reflex.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/java/reflex.html#获取class对象方式" class="sidebar-link">获取Class对象方式</a></li><li class="sidebar-sub-header"><a href="/java/reflex.html#获取方法对象" class="sidebar-link">获取方法对象</a></li><li class="sidebar-sub-header"><a href="/java/reflex.html#获取实例对象" class="sidebar-link">获取实例对象</a></li><li class="sidebar-sub-header"><a href="/java/reflex.html#举例" class="sidebar-link">举例</a></li></ul></li><li><a href="/java/threadsec.html" class="sidebar-link">线程安全</a></li><li><a href="/java/sqlinject.html" class="sidebar-link">SQL注入</a></li><li><a href="/java/xss.html" class="sidebar-link">XSS漏洞</a></li><li><a href="/java/esapi.html" class="sidebar-link">ESAPI使用</a></li><li><a href="/java/Mybatis.html" class="sidebar-link">Mybatis</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>漏洞分析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/vulable/reflex.html" class="sidebar-link">反射</a></li><li><a href="/java/vulable/rmi.html" class="sidebar-link">RMI</a></li><li><a href="/java/vulable/urldns.html" class="sidebar-link">URLDNS</a></li><li><a href="/java/vulable/fastjson.html" class="sidebar-link">fastjson分析</a></li><li><a href="/java/vulable/shell.html" class="sidebar-link">内存马分析</a></li><li><a href="/java/vulable/shiro.html" class="sidebar-link">shiro分析</a></li><li><a href="/java/vulable/CommonsCollections.html" class="sidebar-link">CommonsCollections分析</a></li><li><a href="/java/vulable/vulecho.html" class="sidebar-link">反序列化漏洞回显分析</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>案例</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/case/smart_doc.html" class="sidebar-link">基于源代码接口文档生成工具</a></li><li><a href="/java/case/spring_controller.html" class="sidebar-link">基于springMVC生成Controller信息</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="反射"><a href="#反射" class="header-anchor">#</a> 反射</h1> <h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <div class="language- extra-class"><pre><code>这种动态获取类的信息以及动态调用对象的方法的功能来自于Java语言的反射（Reflection）机制。

* 优点：
  * 可以调用私有方法,访问设置私有变量
  * 可以让interger的ArrayList可以存取String类型的数据
</code></pre></div><h2 id="获取class对象方式"><a href="#获取class对象方式" class="header-anchor">#</a> 获取Class对象方式</h2> <h6 id="_1-使用class类的静态方法。例如"><a href="#_1-使用class类的静态方法。例如" class="header-anchor">#</a> 1.使用Class类的静态方法。例如:</h6> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; aClass = Class.forName(&quot;com.java.web.man&quot;);
</code></pre></div><h6 id="_2-使用类的-class语法。如"><a href="#_2-使用类的-class语法。如" class="header-anchor">#</a> 2.使用类的.class语法。如:</h6> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; aClass = String.class;
</code></pre></div><h6 id="_3-使用对象的getclass-方法。如："><a href="#_3-使用对象的getclass-方法。如：" class="header-anchor">#</a> 3.使用对象的getClass()方法。如：</h6> <div class="language- extra-class"><pre class="language-text"><code>String str = &quot;aa&quot;;  // Student s1 = new Student();
Class&lt;?&gt; classType1 = str.getClass();  // Class&lt;Student&gt; sClass = s1.getClass();
</code></pre></div><h2 id="获取方法对象"><a href="#获取方法对象" class="header-anchor">#</a> 获取方法对象</h2> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; personObj = Class.forName(objName);

Method eat = personObj.getMethod(&quot;eat&quot;);
Method[] methods = personObj.getMethods();

Method eat = personObj.getDeclaredField(&quot;eat&quot;);
Method[] methods = personObj.getDeclaredFields();

</code></pre></div><h2 id="获取实例对象"><a href="#获取实例对象" class="header-anchor">#</a> 获取实例对象</h2> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; personObj = Class.forName(objName);

Field sex = personObj.getField(&quot;sex&quot;);  
Field[] fields = personObj.getFields();

personObj.getDeclaredField(&quot;name&quot;);
Field[] declaredFields = personObj.getDeclaredFields();
</code></pre></div><h2 id="举例"><a href="#举例" class="header-anchor">#</a> 举例</h2> <h3 id="_1-生成对象"><a href="#_1-生成对象" class="header-anchor">#</a> 1.生成对象</h3> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; aClass = Class.forName(&quot;com.java.web.man&quot;);
Constructor&lt;?&gt; constructor = aClass.getConstructor(int.class,String.class);
Object o = constructor.newInstance(10,&quot;张三&quot;);  //o就是反射生成的对象实例
</code></pre></div><h3 id="_2-获取方法"><a href="#_2-获取方法" class="header-anchor">#</a> 2.获取方法</h3> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; aClass = Class.forName(&quot;com.java.web.man&quot;);
Method[] methods = aClass.getMethods();
for (Method s:methods){
    System.out.println(s);
}

输出:
public void com.java.web.man.eatfood()
public void com.java.web.man.playgame()
public void com.java.web.man.eat()
public java.lang.String com.java.web.Person.toString()
public java.lang.String com.java.web.Person.getName()
public void com.java.web.Person.setName(java.lang.String)
public int com.java.web.Person.getAge()
public void com.java.web.Person.setAge(int)
public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
public final void java.lang.Object.wait() throws java.lang.InterruptedException
public boolean java.lang.Object.equals(java.lang.Object)
public native int java.lang.Object.hashCode()
public final native java.lang.Class java.lang.Object.getClass()
public final native void java.lang.Object.notify()
public final native void java.lang.Object.notifyAll()
</code></pre></div><h3 id="_3-调用方法"><a href="#_3-调用方法" class="header-anchor">#</a> 3.调用方法</h3> <div class="language- extra-class"><pre class="language-text"><code>Class&lt;?&gt; aClass = Class.forName(&quot;com.java.web.man&quot;);   
Constructor&lt;?&gt; constructor = aClass.getConstructor(int.class,String.class);
Object o = constructor.newInstance(10,&quot;张三&quot;);
Method eat = aClass.getMethod(&quot;eat&quot;);
eat.invoke(o);  //等效于执行
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/wiki/ssm.html" class="prev">
        ssm整合
      </a></span> <span class="next"><a href="/java/threadsec.html">
        线程安全
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.acc5929b.js" defer></script><script src="/assets/js/2.1b646e00.js" defer></script><script src="/assets/js/42.2fefe764.js" defer></script>
  </body>
</html>
